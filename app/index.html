<html>
  <head>
    <title>3dee</title>
    <style>canvas { width: 100%; height: 100% }</style>
  </head>
  <body>
        <script type="x-shader/x-vertex" id="fboVert">
    varying vec2 vUv;

    void main() 
    {

    vUv = vec2(uv.x, uv.y);

    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    } 
        </script>
        <script type="x-shader/x-fragment" id="fboFrag">
    // simulation
    varying vec2 vUv;

    uniform sampler2D start;
    uniform sampler2D end;

    uniform float timer;

    // vec3 lerp(vec3 colorone, vec3 colortwo, float value)
    // {
    //     return (colorone + value*(colortwo-colorone));
    // }

    void main() 
    {
    vec3 pos0 = texture2D( start, vUv ).xyz;
    vec3 pos1 = texture2D( end, vUv ).xyz;

    // pos.x += snoise(vec4(pos.x, pos.y, pos.z, timer/10000.0)) * 0.01;
    // pos.y += snoise(vec4(pos.x, pos.y, pos.z, 1.352+timer/10000.0)) * 0.01;
    // pos.z += snoise(vec4(pos.x, pos.y, pos.z, 12.352+timer/10000.0)) * 0.01;

    vec3 pos = mix(pos0, pos1, timer/10000.0 );

    // Write new position out
    gl_FragColor = vec4(pos, 1.0);

    }
        </script>

        <script type="x-shader/x-vertex" id="fboRenderVert">
    uniform sampler2D map;

    uniform float width;
    uniform float height;

    uniform float pointSize;

    varying vec2 vUv;
    varying vec4 vPosition;


    void main()
    {

    vUv = position.xy + vec2( 0.5 / width, 0.5 / height );

    vec3 position = ( texture2D( map, vUv ).rgb  );

    gl_PointSize = pointSize;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
        </script>
        <script type="x-shader/x-fragment" id="fboRenderFrag">
    uniform sampler2D map;
    uniform float effector;

    varying vec2 vUv;
    varying vec4 vPosition;

    void main()
    {
    gl_FragColor = vec4( 1.2,1.1,1.8,1.0 );
    gl_FragColor *= 1.5;


    }
        </script>
    <script data-main="assets/main.js" src="vendor/requirejs/require.js">></script>

  </body>
</html>
